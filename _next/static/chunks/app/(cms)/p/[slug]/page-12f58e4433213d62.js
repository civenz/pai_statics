(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4374],{19470:function(e,t,r){Promise.resolve().then(r.bind(r,89761)),Promise.resolve().then(r.bind(r,16831)),Promise.resolve().then(r.t.bind(r,65878,23)),Promise.resolve().then(r.t.bind(r,72972,23))},89761:function(e,t,r){"use strict";r.d(t,{SiteContent:function(){return h},SiteShare:function(){return g}});var n=r(57437),a=r(2265),s=r(35398),o=r(49089),i=r(30166),l=r(16605),u=r(94508);let c=l.fC,d=l.xz,f=a.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:s=4,...o}=e;return(0,n.jsx)(l.VY,{ref:t,align:a,sideOffset:s,className:(0,u.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})});f.displayName=l.VY.displayName;var m=r(77992);let p=(0,i.default)(()=>r.e(4027).then(r.t.bind(r,4027,23)).then(e=>Promise.resolve(e.default||e)),{loadableGenerated:{webpack:()=>[4027]}});function h(e){let{author:t}=e,[r,s]=(0,a.useState)(!1),o=(0,a.useRef)(1),[i,l]=(0,a.useState)([]);return(0,a.useEffect)(()=>{document.querySelectorAll("img[data-width]").forEach(e=>{let t=e.getAttribute("data-width"),r=e.getAttribute("data-align");t&&(e.style.width=t),"center"===r?(e.style.marginLeft=e.style.marginRight="auto",e.style.display="block"):"right"===r?(e.style.marginLeft="auto",e.style.marginRight="0",e.style.display="block"):"left"===r&&(e.style.marginLeft="0",e.style.marginRight="auto",e.style.display="block")});let e=document.getElementById("post-body");if(!e)return;function r(e){let r=["\n\n————————————————\n",t?"原文作者：".concat(t,"\n"):"","转自链接：".concat(location.href,"\n"),"版权声明：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请保留以上作者信息和原文链接。"].filter(e=>e.length>0),n=document.getSelection();n&&n.toString().length>100&&(e.clipboardData.setData("text",n+r.join("")),e.preventDefault())}e.addEventListener("copy",r);let n=e.querySelectorAll("img");function a(e){if(e.target instanceof HTMLImageElement){let t=Array.from(n).indexOf(e.target);o.current=t+1,s(e=>!e)}}return l(Array.from(n).map(e=>e.getAttribute("src")||"")),e.addEventListener("click",a),()=>{e.removeEventListener("copy",r),e.removeEventListener("click",a)}},[t,l]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p,{toggler:r,slide:o.current,sources:i.map(e=>e.replace(/\/conversions\//g,"/").replace(/-800\./g,"."))})})}function g(e){let[t,r]=(0,a.useState)(""),[i,l]=(0,a.useState)("");(0,a.useEffect)(()=>{r(location.href),l("http://service.weibo.com/share/share.php?url=".concat(encodeURIComponent(location.href),"&title=").concat(encodeURIComponent(document.title),"&appkey=3086605402&searchPic=true&ralateUid=6499203439"))},[]);let{toast:u}=(0,m.pm)();return(0,n.jsxs)("div",{className:"fixed top-[77px] z-50 hidden w-12 border border-b-0 text-sm text-muted-foreground lg:block lg:translate-x-[-68px]",children:[(0,n.jsxs)(c,{openDelay:100,closeDelay:100,children:[(0,n.jsx)(d,{asChild:!0,children:(0,n.jsx)("div",{onClick:function(){navigator.clipboard.writeText(t),u({title:"复制成功",description:"链接已复制到剪贴板",duration:2e3})},className:"flex cursor-pointer items-center justify-center border-b py-4 hover:bg-muted hover:text-primary",children:(0,n.jsx)(o.gjK,{size:18})})}),(0,n.jsx)(f,{side:"right",sideOffset:10,className:"w-auto px-3 py-2 text-sm",children:"复制链接"})]}),(0,n.jsxs)(c,{openDelay:100,closeDelay:100,children:[(0,n.jsx)(d,{asChild:!0,children:(0,n.jsx)("div",{className:"flex cursor-pointer items-center justify-center border-b py-4 hover:bg-muted hover:text-primary",children:(0,n.jsx)(o.eqh,{size:18})})}),(0,n.jsxs)(f,{side:"right",sideOffset:10,className:"flex w-auto flex-col items-center gap-2 px-4 py-3 text-sm",children:[(0,n.jsx)(s.tv,{value:t,size:80}),(0,n.jsx)("div",{children:"微信扫码分享"})]})]})]})}},16831:function(e,t,r){"use strict";r.d(t,{Avatar:function(){return i},AvatarFallback:function(){return u},AvatarImage:function(){return l}});var n=r(57437),a=r(2265),s=r(61146),o=r(94508);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});i.displayName=s.fC.displayName;let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",r),...a})});l.displayName=s.Ee.displayName;let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});u.displayName=s.NY.displayName},77992:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var n=r(2265);let a=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],u={toasts:[]};function c(e){u=i(u,e),l.forEach(e=>{e(u)})}function d(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(u);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},94508:function(e,t,r){"use strict";r.d(t,{HQ:function(){return o},cn:function(){return s}});var n=r(61994),a=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function o(e,t){return"news"==t?e.includes(".html")?"/news-flash/".concat(e):"/news/".concat(e):e.length<7?"/".concat(e,".html"):"/p/".concat(e)}},24369:function(e,t,r){"use strict";var n=r(2265),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,o=n.useEffect,i=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,c=n[1];return i(function(){a.value=r,a.getSnapshot=t,u(a)&&c({inst:a})},[e,r,t]),o(function(){return u(a)&&c({inst:a}),e(function(){u(a)&&c({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},82558:function(e,t,r){"use strict";e.exports=r(24369)},61146:function(e,t,r){"use strict";r.d(t,{NY:function(){return j},Ee:function(){return E},fC:function(){return w}});var n=r(2265),a=r(73966),s=r(26606),o=r(61188),i=r(66840),l=r(82558);function u(){return()=>{}}var c=r(57437),d="Avatar",[f,m]=(0,a.b)(d),[p,h]=f(d),g=n.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[s,o]=n.useState("idle");return(0,c.jsx)(p,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:(0,c.jsx)(i.WV.span,{...a,ref:t})})});g.displayName=d;var v="AvatarImage",y=n.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:d=()=>{},...f}=e,m=h(v,r),p=function(e,t){let{referrerPolicy:r,crossOrigin:a}=t,s=(0,l.useSyncExternalStore)(u,()=>!0,()=>!1),i=n.useRef(null),c=s?(i.current||(i.current=new window.Image),i.current):null,[d,f]=n.useState(()=>b(c,e));return(0,o.b)(()=>{f(b(c,e))},[c,e]),(0,o.b)(()=>{let e=e=>()=>{f(e)};if(!c)return;let t=e("loaded"),n=e("error");return c.addEventListener("load",t),c.addEventListener("error",n),r&&(c.referrerPolicy=r),"string"==typeof a&&(c.crossOrigin=a),()=>{c.removeEventListener("load",t),c.removeEventListener("error",n)}},[c,a,r]),d}(a,f),g=(0,s.W)(e=>{d(e),m.onImageLoadingStatusChange(e)});return(0,o.b)(()=>{"idle"!==p&&g(p)},[p,g]),"loaded"===p?(0,c.jsx)(i.WV.img,{...f,ref:t,src:a}):null});y.displayName=v;var x="AvatarFallback",S=n.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...s}=e,o=h(x,r),[l,u]=n.useState(void 0===a);return n.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(e)}},[a]),l&&"loaded"!==o.imageLoadingStatus?(0,c.jsx)(i.WV.span,{...s,ref:t}):null});function b(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}S.displayName=x;var w=g,E=y,j=S}},function(e){e.O(0,[7699,6137,2972,5878,8341,5345,6940,2971,2117,1744],function(){return e(e.s=19470)}),_N_E=e.O()}]);